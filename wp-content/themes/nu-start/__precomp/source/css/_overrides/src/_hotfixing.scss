// ! the pathing here blows up the  webpack config in the child theme; idk why.
.is-icon-twitter {
	> a {
		&::before {
			background-image: url("/wp-content/themes/nu-start/__lib/icons/twitter.svg");
		}
	}
}

// adjust the animate.css utility classes to be twice as fast as they say
:root {
	--animate-duration: 0.5s;
}

@import './brand-tweaks/accordion';
@import './brand-tweaks/flip-cards';
@import './brand-tweaks/html-svgs';

.wp-block-group.is-spillover-magazine-layout {
	@include media(">=medium") {
		margin-top: 0;

		.wp-block-columns:not(:first-child) {
			margin-top: $margin_8x;
		}

		.wp-block-columns > .wp-block-column {
			height: min(75vh, 800px);
			display: flex;
			flex-flow: column nowrap;
			justify-content: center;
			align-items: center;
		}
		.wp-block-column:first-child .wp-block-image {
			transform: translateX(33%);
		}
		.wp-block-column:not(:first-child) {
			.wp-block-image {
				transform: translateX(-33%);
			}
		}
		.wp-block-image {
			height: 80%;
			img {
				min-height: 100%;
			}
		}
	}
}

.wp-block-group.has-linked-clickable-cards {
	.wp-block-columns:not(.is-not-stacked-on-mobile) {
		&:not(:first-child) {
			margin-top: $margin_4x;
		}
		.wp-block-column {
			&:not(:first-child) {
				margin-left: $margin_4x;
			}
		}
	}

	.wp-block-column.ek-linked-block {
		border-top: 1px solid var(--wp--preset--color--black-2);
		padding: $margin_2x;
		&:hover {
			background-color: var(--wp--preset--color--black-2);
			color: var(--wp--preset--color--white-1);
		}

		@include nu_micon("\e5c8", after);
		&:after {
			position: absolute;
			bottom: 0;
			right: 0;
			background-color: var(--wp--preset--color--red-3);
			color: var(--wp--preset--color--white-1);
			text-align: center;
			font-size: var(--wp--preset--font-size--16-24);
			padding: $half-margin $base-margin;
		}
	}
}

.wp-block-cover
	.wp-block-cover__inner-container
	> .is-brand-hero-content-wrapper {
	.has-72-72-font-size {
		line-height: 1;
		margin: $margin_4x 0 $margin_3x 0;
	}

	@include media(">=medium") {
		max-width: 720px;
		// margin: 0 0 0 $margin_4x;
		margin: $margin_8x 0 $margin_4x $margin_4x;
	}
}

.wp-block-group {
	&.is-brand-magazine-layout {
		> .wp-block-columns {
			&:not(:first-child) {
				margin-top: $margin_8x;
			}
			> .wp-block-column {
				@include media(">=medium") {
					&:not(:first-child) {
						margin-left: $margin_6x;
					}
				}
			}
		}
	}

	// full width columns
	&.alignfull {
		@include media(">=medium") {
			.wp-block-column:first-child {
				.is-editorial-content-wrapper {
					margin-left: $margin_4x;
				}
			}
			.wp-block-column:last-child {
				.is-editorial-content-wrapper {
					margin-right: $margin_4x;
				}
			}
		}
	}
}
.wp-block-columns.is-steps-one-two-three {
	margin-top: $margin_4x;
	p.has-48-48-font-size {
		display: inline-block;
		position: relative;
		margin: 0 0 0 $margin_2x;
		padding: $base-margin 0;
		&:after {
			content: "";
			@include center_absolute();
			border-radius: 50%;
			border: 1px solid var(--wp--preset--color--black-3);
			width: $margin_6x;
			height: $margin_6x;
		}
	}
}

.nu__shim--cover-is-full-height {
	min-height: calc(80vh - 92px) !important;
}
//
.wp-block-group.nu__pattern--editorial-type-a {
	margin-top: 0;

	&.has-background {
		padding: 0;
		padding-top: $margin_8x;
	}

	> .wp-block-columns:not(:first-child) {
		margin-top: $margin_8x;
	}

	.wp-block-image {
		> figure {
			margin: 0;
		}
	}
}

// ! FIX ALL OF THIS WHAT IS THIS OMG

.nu_section--similar-events {
	&:last-child:not(.has-background) {
		margin-bottom: 0 !important;
	}

	> .wp-block-group.alignfull.has-background:last-child {
		padding-bottom: $margin_8x;
		padding-left: 0;
		padding-right: 0;
		position: relative;
		&:before {
			content: "";
			width: 100%;
			height: 50%;
			position: absolute;
			background-color: black;
			bottom: 0;
			left: 0;
			z-index: -1;
		}

		background-color: transparent !important;
	}
}

.blocks--wrapper > .nu_section--similar-events {
	&:last-child {
		margin-bottom: 0;
	}
}

.blocks--wrapper {
	> .nu__breadcrumbs {
		+ * {
			margin-top: $margin_4x;
		}
	}
}

body.single-nu_news {
	.nu_section--similar-events {
		> .wp-block-group.alignfull.has-background:last-child {
			&::before {
				// background-color: #ecf0f3;
			}
		}
	}
}

.wp-block-group.is-style-hero-slider {
	margin-top: 0;

	.gutenslider-divider-bottom,
	.gutenslider-divider-top {
		display: none;
	}

	.slide-content {
		padding: 0 !important;
		.wp-block-cover {
			min-height: 100%;
		}
		.nu_pattern--hero--card-style {
			.wp-block-columns,
			& {
				min-height: 100% !important;
			}
		}
		.nu_pattern--hero--full-overlay {
			.wp-block-cover,
			& {
				min-height: 100% !important;
			}
		}
		.nu_pattern--hero--vertical-split {
			.wp-block-columns,
			& {
				min-height: 100%;
			}
		}
	}
}

.narrow-pullquote-container {
	margin: $margin_4x 0;
}

.wp-block-nu-blocks-accordion-item {
	.wp-block-nublocks-accordion-item__content {
		@extend %transition;
	}
}

h1,
h2,
h3,
h4,
h5,
h6 {
	scroll-margin-top: 124px;
}

.is-sticky-on-scroll {
	position: -webkit-sticky;
	position: sticky;
	top: (124px + $margin_4x);
}

figure.wp-block-embed {
	margin-left: 0 !important;
	margin-right: 0 !important;

	iframe {
		@extend %transition;
		@include nu__boxshadow(2);
	}
	&:hover,
	&:focus {
		iframe {
			@include nu__boxshadow(4);
		}
	}
}
